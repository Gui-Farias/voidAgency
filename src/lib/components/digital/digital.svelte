<script>
  import { onMount } from "svelte";
  import digi01 from '$lib/assets/digi01.svg'
  import digi02 from '$lib/assets/digi02.svg'
  import digi03 from '$lib/assets/digi03.svg'
  import digi04 from '$lib/assets/digi04.svg'
  import digi05 from '$lib/assets/digi05.svg'

  
  // Lista de imagens que vocÃª quer trocar ao rolar a pÃ¡gina
  const images = [
    digi01,
    digi02,
    digi03,
    digi04,
    digi05,
  ];

  let currentImage = images[0];  // A imagem inicial

  // FunÃ§Ã£o para lidar com a mudanÃ§a de imagem
  const changeImage = (index) => {
    currentImage = images[index];
  };

  onMount(() => {
    const options = {
      root: null,
      rootMargin: '0px',
      threshold: 1 
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const index = parseInt(entry.target.getAttribute('data-index'), 10);
          changeImage(index);
        }
      });
    }, options);

    // Observa os tÃ­tulos
    const targets = document.querySelectorAll('.digiText');
    targets.forEach(target => observer.observe(target));
  });
</script>

<section class="md:flex md:justify-between lg:justify-evenly">
  <div class="md:w-3/5 lg:w-2/5 md:sticky md:top-10 self-start ">
    <h2 class="text-6xl">Contruimos o seu digital do zero</h2>
    <img src={currentImage} alt="Imagem aleatÃ³ria" class="w-full  max-w-[75%] mx-auto mt-10 rounded-xl" />
  </div>

  <div class="text md:w-2/5 mt-40 pb-32">
    <p class="digiText" data-index="0" >Na Void Agency, transformamos ideias em presenÃ§a digital de impacto! ğŸš€ Da criaÃ§Ã£o de sites modernos e lojas virtuais a estratÃ©gias de trÃ¡fego pago e identidade visual marcante.</p>
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <p class="digiText" data-index="1" >Aqui acreditamos que cada projeto comeÃ§a ouvindo. Primeiro, entendemos suas dores e metas, depois traÃ§amos estratÃ©gias personalizadas.</p>
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <p class="digiText" data-index="2" >Apresentamos as soluÃ§Ãµes personalizadas. Se necessÃ¡rio, ajustamos tudo em parceria com vocÃª para garantir que o resultado final esteja alinhado com o esperado!</p>
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <p class="digiText" data-index="3" >A Void segue com o desenvolvimento completo, aplicando prÃ¡ticas de performance e acessibilidade para garantir uma experiÃªncia digital de alto nÃ­vel.</p>
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <p class="digiText" data-index="4" >Tambem cuidamos da publicaÃ§Ã£o do projeto e oferecemos suporte contÃ­nuo, garantindo a manutenÃ§Ã£o e a evoluÃ§Ã£o do seu ambiente digital.</p>
    <br /><br />
    <a href="https://api.whatsapp.com/send?phone=5511910529070&text=OlÃ¡,%20estou%20vindo%20do%20seu%20site%20e%20gostaria%20..." target="_blank" rel="noopener noreferrer" class="btn">Falar com um especialista</a>
  </div>
</section>

